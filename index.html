<!DOCTYPE html>
<html>

<head>
	<meta charset="utf8">
	<title>Interfaz de Frigorífico</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
	<link rel="stylesheet" href="index.css">
	<script src="https://kit.fontawesome.com/6b4ca2c1fd.js" crossorigin="anonymous"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
	<script src="../electro.js"></script>
	<script src="functions.js"></script>
</head>

<body>	 

	<div class="main-wrapper">
		<div class="clock grey col-xs-5">
			<h2>Hola!</h2>
			<h3 id="hour"></h3>
			<h4>Frigorífico 5ºC | Congelador -4ºC</h4>
		</div>
		<div class="section white col-xs-7">
			<div class="row">
				<button type="button" class="btn btn-default btn-circle">
					<i class="fas fa-power-off"></i>
				</button>
				<button type="button" class="btn btn-default btn-circle">
					<i class="fas fa-thermometer-half"></i>
				</button>
				<button type="button" class="btn btn-default btn-circle" onclick="encenderLuzRefrigerador()">
					<i class="far fa-lightbulb"></i>
				</button>
				
			</div>

			<div class="row">
				<button type="button" class="btn btn-default btn-circle">
					<i class="far fa-clock"></i>
				</button>
				<button type="button" class="btn btn-default btn-circle">
					<i class="fas fa-shopping-basket"></i>
				</button>
				<button type="button" class="btn btn-default btn-circle">
					<i class="far fa-edit"></i>
				</button>
			</div>

			<div class="row">
				<h5>15ºC Alicante <i class="fas fa-wind"></i></h5>
				<p>El primer ministro español declarado culpable por matar perritos <i class="fas fa-dog"></i></p>
			</div>
		
		</div>
	</div>

	<!-- BOTONES DEL PROFE
		<button onclick="encenderLuzRefrigerador()">Encender luz refrigerador</button>
		<button onclick="apagarLuzRefrigerador()">Apagar luz refrigerador</button>
	-->
	
	<script>
		var frigo = new Electro();
		frigo.on("connect", function () {
			console.log("Ya estoy conectado con el frigorifico!!!")
			console.log("Con este hay " + frigo.clientes + " clientes conectados");

			function encenderLuzRefrigerador() {
				frigo.refrigeradorLuz = true;
			}

			function apagarLuzRefrigerador() {
				frigo.refrigeradorLuz = false;
			}

			// Activar la luz del refrigerador cuando se abre la puerta
			frigo.on("refrigeradorPuerta", function (abierta) {
				console.log("Puerta:", abierta);
				frigo.refrigeradorLuz = abierta;
			});
		});
	</script>
</body>

</html>